CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
CREATE TABLE PUBLIC.ROOM\u000a(ID INTEGER NOT NULL IDENTITY,\u000aACCESS VARCHAR(25),\u000aSEATINGCAPACITY INTEGER,\u000aPRIMARY KEY (ID))
CREATE TABLE SESSIONTYPE\u000a(ID INTEGER NOT NULL IDENTITY,\u000aNAME VARCHAR(25),\u000a"TIME" DATE,\u000aCOST DOUBLE,\u000aPRIMARY KEY (ID))
CREATE TABLE CUSTOMER\u000a(ID INTEGER NOT NULL IDENTITY,\u000aNAME VARCHAR(25),\u000aSURNAMES VARCHAR(25),\u000aEMAIL VARCHAR(25),\u000aCREDITCARD VARCHAR(25),\u000aPRIMARY KEY (ID))
CREATE TABLE MOVIE\u000a(ID INTEGER NOT NULL IDENTITY,\u000aNAME VARCHAR(25),\u000aCATEGORY VARCHAR(25),\u000aSYNOPSIS LONGVARCHAR,\u000aPRIMARY KEY (ID))
DROP TABLE PUBLIC.SESSIONTYPE
CREATE TABLE SESSIONTYPE\u000a(ID INTEGER NOT NULL IDENTITY,\u000aNAME VARCHAR(25),\u000aSTARTTIME TIME,\u000aCOST DOUBLE,\u000aPRIMARY KEY (ID))
CREATE TABLE SESSION\u000a(ID INTEGER NOT NULL IDENTITY,\u000aID_ROOM INTEGER,\u000aID_MOVIE INTEGER,\u000aID_SESSIONTYPE INTEGER,\u000aSTARTDATE DATE,\u000aENDDATE DATE,\u000aPRIMARY KEY (ID))
ALTER TABLE PUBLIC.SESSION\u000aADD FOREIGN KEY (ID_MOVIE) \u000aREFERENCES MOVIE(ID)
ALTER TABLE PUBLIC.SESSION\u000aADD FOREIGN KEY (ID_ROOM) \u000aREFERENCES ROOM(ID)
ALTER TABLE PUBLIC.SESSION\u000aADD FOREIGN KEY (ID_SESSIONTYPE) \u000aREFERENCES SESSIONTYPE(ID)
CREATE TABLE PLACE\u000a(ID INTEGER NOT NULL IDENTITY,\u000aID_SESSION INTEGER,\u000a"ROW" INTEGER,\u000aCHAIR INTEGER,\u000aID_CUSTOMER INTEGER,\u000aCREDITCARD VARCHAR(25),\u000aAMOUNT DOUBLE,\u000aPAYMENTDATE DATE,\u000aPRIMARY KEY (ID))
DROP TABLE PUBLIC.PLACE
CREATE TABLE PLACE\u000a(ID INTEGER NOT NULL IDENTITY,\u000aID_SESSION INTEGER,\u000aROWSEAT INTEGER,\u000aSEAT INTEGER,\u000aID_CUSTOMER INTEGER,\u000aCREDITCARD VARCHAR(25),\u000aAMOUNT DOUBLE,\u000aPAYMENTDATE DATE,\u000aPRIMARY KEY (ID))
ALTER TABLE PUBLIC.PLACE\u000aADD FOREIGN KEY (ID_SESSION) \u000aREFERENCES SESSION(ID)
ALTER TABLE PUBLIC.PLACE\u000aADD FOREIGN KEY (ID_CUSTOMER) \u000aREFERENCES CUSTOMER(ID)
CREATE TABLE SYSTEMUSER\u000a(ID INTEGER NOT NULL IDENTITY,\u000aLOGIN VARCHAR(25) NOT NULL,\u000aPASSW VARCHAR(25),\u000aTYPE VARCHAR(25),\u000aMSALE BOOLEAN,\u000aMSESSION BOOLEAN,\u000aMMOVIES BOOLEAN,\u000aPRIMARY KEY (ID),\u000aUNIQUE (LOGIN))
